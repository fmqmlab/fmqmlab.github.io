Documentation
===================

.. role:: raw-html(raw)
   :format: html

What is PyDPE?
######################

PyDPE is a python package developed by the Fahad Mahmood group to analyze Double Photo Emission (DPE) data from our ARTOF setup. The package plots a raw image file from the detector, and shows the regions of the Brillouin zone where double photon emission might be observed.
PyDPE-Web is a web-based version of this package, built using :raw-html:`<a href="https://pyscript.net/" target="_blank">PyScript</a>`. It has no dependencies and can be run directly on your browser.

How do I use PyDPE-Web?
###########################

The :doc:`Quickstart` section contains the main PyDPE code that you can interact with. Here is a helpful table summarizing each input field on that page:

.. list-table::
   :widths: 25 25 50
   :header-rows: 1

   * - Input Field
     - Default Value
     - Description
   * - Image File
     - None
     - The raw image file from the detector. Any image format is accepted (.png, .jpeg, .jpg etc.)
   * - kx_min/kx_max
     - -1.0/1.0
     - These define the the range in k-space over the x-axis that the image covers
   * - ky_min/ky_max
     - -1.0/1.0
     - These define the range in in k-space over the y-axis that the image covers
   * - :raw-html:`&theta;<sub>s</sub>`
     - 90.00
     - The sample polar rotation (in degrees)
   * - :raw-html:`&phi;<sub>s</sub>`
     - 45.00
     - The sample azimuthal rotation (in degrees)
   * - rotation_s
     - 0.00
     - Rotation about the normal axis of the sample
   * - :raw-html:`h&nu;`
     - 22.80
     - The photon energy in ev
   * - wf
     - 4.50
     - Work function of the sample in ev
   * - FOV
     - 15.00
     - The Field of View that each detector ”sees” from the sample

.. image:: _static/images/manipulator_image.png

Additional Resources
########################

The original PyDPE code is available in :download:`this zip file <_static/docs/PyDPE.zip>` and can be downloaded and run locally. Note that this offline version requires certain dependencies to be downloaded in order to run properly. These have been tabulated in a README file inside the zip folder.

For more details on the angle transformation used in the PyDPE code, download :download:`this pdf <_static/docs/angle_transformation.pdf>`.